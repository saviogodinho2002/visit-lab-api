{
    "openapi": "3.0.0",
    "info": {
        "title": "Api Visit Lab",
        "contact": {
            "email": "saviogmoiagaia@gmail.com"
        },
        "version": "3.0.0"
    },
    "paths": {
        "api/pre-registration/store": {
            "post": {
                "tags": [
                    "Pre registro"
                ],
                "summary": "Cria um pré registro de usuário",
                "description": "Cria um pre registro para proximo login de um usuário",
                "operationId": "588b3272e726ee98118f38b483cad359",
                "requestBody": {
                    "description": "Json informações necessárias",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "login",
                                    "role_id"
                                ],
                                "properties": {
                                    "login": {
                                        "description": "Login do usuario",
                                        "type": "string"
                                    },
                                    "role_id": {
                                        "description": "Role que será atribuída a um usuário",
                                        "type": "number"
                                    },
                                    "laboratory_id": {
                                        "description": "Laboratório que será atribuído do usuario",
                                        "type": "number"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Registro criado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Login não encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/api/role": {
            "get": {
                "tags": [
                    "Roles"
                ],
                "summary": "Retorna as roles do sistema",
                "operationId": "a7549b0bc1566cc8e2cb8358f139a2ee",
                "responses": {
                    "200": {
                        "description": "roles do sistema"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Usuario"
                ],
                "summary": "Loga um  usuário.",
                "description": "Loga",
                "operationId": "7716aff3e5de668956e4c3802154391b",
                "requestBody": {
                    "description": "Json com login e senha do usuario",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "login",
                                    "password"
                                ],
                                "properties": {
                                    "login": {
                                        "description": "Login do usuario",
                                        "type": "string"
                                    },
                                    "password": {
                                        "description": "Senha do usuario",
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Logado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Formulário inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/api/user/me": {
            "get": {
                "tags": [
                    "Usuario"
                ],
                "summary": "Retorna o usuario corrente",
                "operationId": "23a655d8871ff4920d42e22aad9c27c0",
                "responses": {
                    "200": {
                        "description": "retorno usuario"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        },
        "/api/user?login={login}": {
            "get": {
                "tags": [
                    "Usuario"
                ],
                "summary": "Obtém um user pelo login",
                "operationId": "4cd28658572d6e8121f6d9079a5591d4",
                "parameters": [
                    {
                        "name": "login",
                        "in": "path",
                        "description": "login do usuario",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uma lista de responsaveis"
                    }
                },
                "security": [
                    {
                        "bearerToken": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerToken": {
                "type": "http",
                "description": "Acess token obtido na autenticação",
                "name": "Authorization",
                "in": "header",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    }
}